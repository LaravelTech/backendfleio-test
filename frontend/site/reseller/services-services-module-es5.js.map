{"version":3,"sources":["./src/app/reseller/billing/services/service-details/service-details.component.html","./src/app/reseller/billing/services/service-edit/service-edit.component.html","./src/app/reseller/billing/services/service-list/service-list.component.html","./src/app/reseller/billing/services/tabs/service-details-overview/service-details-overview.component.html","./src/app/reseller/billing/services/tabs/service-edit-form/service-edit-form.component.html","./src/app/reseller/billing/services/service-details/service-details.component.scss","./src/app/reseller/billing/services/service-details/service-details.component.ts","./src/app/reseller/billing/services/service-edit/service-edit.component.scss","./src/app/reseller/billing/services/service-edit/service-edit.component.ts","./src/app/reseller/billing/services/service-list-ui.service.ts","./src/app/reseller/billing/services/service-list/service-list.component.scss","./src/app/reseller/billing/services/service-list/service-list.component.ts","./src/app/reseller/billing/services/service-ui.service.ts","./src/app/reseller/billing/services/services-routing.module.ts","./src/app/reseller/billing/services/services.module.ts","./src/app/reseller/billing/services/tabs/service-details-overview/service-details-overview.component.scss","./src/app/reseller/billing/services/tabs/service-details-overview/service-details-overview.component.ts","./src/app/reseller/billing/services/tabs/service-edit-form/service-edit-form.component.scss","./src/app/reseller/billing/services/tabs/service-edit-form/service-edit-form.component.ts","./src/app/shared/fleio-api/billing/services/service-list.resolver.ts","./src/app/shared/fleio-api/billing/services/service.resolver.ts"],"names":[],"mappings":"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","file":"services-services-module-es5.js","sourcesContent":["module.exports = \"<app-object-details [objectController]=\\\"objectController\\\"></app-object-details>\\n\"","module.exports = \"<app-object-details [objectController]=\\\"objectController\\\" [additionalClasses]=\\\"['fl-card-fixed-md']\\\">\\n</app-object-details>\\n\"","module.exports = \"<app-objects-view [objectsListController]=\\\"objectListController\\\"></app-objects-view>\\n\"","module.exports = \"<div fxLayout=\\\"column\\\">\\n  <p class=\\\"fl-detail\\\">Product: {{object.product.name || 'n/a'}}</p>\\n  <p class=\\\"fl-detail\\\">\\n    <a class=\\\"active-link\\\"\\n       routerLink=\\\"{{config.getPanelUrl('billing/invoices/filtering=items__service:' + object.id)}}\\\">\\n      Related invoices\\n    </a>\\n  </p>\\n  <p class=\\\"fl-detail\\\">Billing cycle: {{object.cycle.display_name}}</p>\\n  <p class=\\\"fl-detail\\\">Created at: {{object.created_at}}</p>\\n  <p class=\\\"fl-detail\\\">Next due date: {{object.next_due_date}}</p>\\n  <p class=\\\"fl-detail\\\">Next invoice date: {{object.next_invoice_date}}</p>\\n  <p class=\\\"fl-detail\\\">\\n    Client:\\n    <a class=\\\"active-link\\\"\\n       routerLink=\\\"{{config.getPanelUrl('clients-users/clients/' + object.client.id)}}\\\">\\n      {{object.client.name}}\\n    </a>\\n  </p>\\n  <p class=\\\"fl-detail\\\">Last update: {{object.updated_at}}</p>\\n</div>\\n\"","module.exports = \"<form [formGroup]=\\\"serviceForm\\\">\\n  <app-form-errors #formErrors [formGroup]=\\\"serviceForm\\\"></app-form-errors>\\n  <div fxLayout=\\\"column\\\">\\n    <p class=\\\"fl-detail\\\">\\n      Client:\\n      <a class=\\\"active-link\\\"\\n         routerLink=\\\"{{config.getPanelUrl('clients-users/clients/' + object.client.id)}}\\\">\\n        {{object.client.name}}\\n      </a>\\n    </p>\\n    <mat-form-field>\\n      <input matInput placeholder=\\\"Display name\\\" type=\\\"text\\\" formControlName=\\\"display_name\\\" required>\\n      <mat-error>{{backendErrors['display_name'] || 'This field is required!' }}</mat-error>\\n    </mat-form-field>\\n    <p class=\\\"fl-detail\\\">Product: {{object.product.name}}</p>\\n    <p class=\\\"fl-detail\\\">Cycle: {{object.cycle.display_name}}</p>\\n    <mat-form-field>\\n      <textarea matInput rows=\\\"3\\\" maxlength=\\\"255\\\"\\n                placeholder=\\\"Notes\\\" formControlName=\\\"notes\\\">\\n      </textarea>\\n      <mat-error>{{backendErrors['notes']}}</mat-error>\\n    </mat-form-field>\\n    <mat-form-field>\\n      <input matInput placeholder=\\\"Override price\\\" type=\\\"number\\\" formControlName=\\\"override_price\\\">\\n      <mat-error>{{backendErrors['override_price']}}</mat-error>\\n    </mat-form-field>\\n    <div fxLayout=\\\"row\\\">\\n      <div fxFlex=\\\"50\\\">\\n        <mat-form-field>\\n          <input matInput [matDatepicker]=\\\"overrideSuspendUntilDatePicker\\\"\\n                 formControlName=\\\"override_suspend_until\\\" placeholder=\\\"Do not suspend until\\\">\\n          <mat-datepicker-toggle matSuffix [for]=\\\"overrideSuspendUntilDatePicker\\\"></mat-datepicker-toggle>\\n          <mat-datepicker #overrideSuspendUntilDatePicker></mat-datepicker>\\n          <mat-error>{{ backendErrors['override_suspend_until']}}</mat-error>\\n        </mat-form-field>\\n        <button mat-icon-button fl-tooltip=\\\"Clear do not suspend until date\\\"\\n                (click)=\\\"serviceForm.controls.override_suspend_until.setValue(undefined)\\\">\\n          <mat-icon>delete</mat-icon>\\n        </button>\\n      </div>\\n      <div fxFlex=\\\"50\\\">\\n        <mat-form-field>\\n          <input matInput [matDatepicker]=\\\"nextDueDatePicker\\\"\\n                 formControlName=\\\"next_due_date\\\" placeholder=\\\"Next due date\\\">\\n          <mat-datepicker-toggle matSuffix [for]=\\\"nextDueDatePicker\\\"></mat-datepicker-toggle>\\n          <mat-datepicker #nextDueDatePicker></mat-datepicker>\\n          <mat-error>{{ backendErrors['next_due_date']}}</mat-error>\\n        </mat-form-field>\\n        <button mat-icon-button fl-tooltip=\\\"Clear next due date\\\"\\n                (click)=\\\"serviceForm.controls.next_due_date.setValue(undefined)\\\">\\n          <mat-icon>delete</mat-icon>\\n        </button>\\n      </div>\\n    </div>\\n    <div fxLayout=\\\"row\\\">\\n      <div fxFlex=\\\"50\\\">\\n        <mat-form-field>\\n          <input matInput [matDatepicker]=\\\"nextExpirationDatePicker\\\"\\n                 formControlName=\\\"next_expiration_date\\\" placeholder=\\\"Next expiration date\\\">\\n          <mat-datepicker-toggle matSuffix [for]=\\\"nextExpirationDatePicker\\\"></mat-datepicker-toggle>\\n          <mat-datepicker #nextExpirationDatePicker></mat-datepicker>\\n          <mat-error>{{ backendErrors['next_expiration_date']}}</mat-error>\\n        </mat-form-field>\\n        <button mat-icon-button fl-tooltip=\\\"Clear next expiration date\\\"\\n                (click)=\\\"serviceForm.controls.next_expiration_date.setValue(undefined)\\\">\\n          <mat-icon>delete</mat-icon>\\n        </button>\\n      </div>\\n      <div fxFlex=\\\"50\\\">\\n        <mat-form-field>\\n          <input matInput [matDatepicker]=\\\"nextInvoiceDatePicker\\\"\\n                 formControlName=\\\"next_invoice_date\\\" placeholder=\\\"Next invoice date\\\">\\n          <mat-datepicker-toggle matSuffix [for]=\\\"nextInvoiceDatePicker\\\"></mat-datepicker-toggle>\\n          <mat-datepicker #nextInvoiceDatePicker></mat-datepicker>\\n          <mat-error>{{ backendErrors['next_invoice_date']}}</mat-error>\\n        </mat-form-field>\\n        <button mat-icon-button fl-tooltip=\\\"Clear next invoice date\\\"\\n                (click)=\\\"serviceForm.controls.next_invoice_date.setValue(undefined)\\\">\\n          <mat-icon>delete</mat-icon>\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n</form>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Jlc2VsbGVyL2JpbGxpbmcvc2VydmljZXMvc2VydmljZS1kZXRhaWxzL3NlcnZpY2UtZGV0YWlscy5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component } from '@angular/core';\nimport { DetailsBase } from '../../../../shared/ui/objects-view/details-base';\nimport { ActivatedRoute } from '@angular/router';\nimport { IServiceModel } from '../../../../shared/fleio-api/billing/model/service.model';\nimport { ServiceListUIService } from '../service-list-ui.service';\n\n@Component({\n  selector: 'app-service-details',\n  templateUrl: './service-details.component.html',\n  styleUrls: ['./service-details.component.scss']\n})\nexport class ServiceDetailsComponent extends DetailsBase<IServiceModel> {\n  constructor(route: ActivatedRoute, serviceListUIService: ServiceListUIService) {\n    super(route, serviceListUIService, 'details', 'service');\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Jlc2VsbGVyL2JpbGxpbmcvc2VydmljZXMvc2VydmljZS1lZGl0L3NlcnZpY2UtZWRpdC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { DetailsBase } from '../../../../shared/ui/objects-view/details-base';\nimport { IServiceModel } from '../../../../shared/fleio-api/billing/model/service.model';\nimport { ActivatedRoute } from '@angular/router';\nimport { ServiceListUIService } from '../service-list-ui.service';\n\n@Component({\n  selector: 'app-service-edit',\n  templateUrl: './service-edit.component.html',\n  styleUrls: ['./service-edit.component.scss']\n})\nexport class ServiceEditComponent extends DetailsBase<IServiceModel> {\n  constructor(route: ActivatedRoute, serviceListUIService: ServiceListUIService) {\n    super(route, serviceListUIService, 'edit', 'service');\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { IBaseFleioObjectModel } from '../../../shared/fleio-api/base-model/base-fleio-object.model';\nimport { IObjectListUIService } from '../../../shared/ui/objects-view/interfaces/object-list-ui-service';\nimport { IPermissionsModel } from '../../../shared/fleio-api/base-model/IPermissionsModel';\nimport { ConfigService } from '../../../shared/config/config.service';\nimport { IObjectUIService } from '../../../shared/ui/objects-view/interfaces/object-ui-service';\nimport { ITableData } from '../../../shared/ui/objects-view/interfaces/table-data/table-data';\nimport { FleioObjectsList } from '../../../shared/fleio-api/fleio-objects-list';\nimport { ITableRow } from '../../../shared/ui/objects-view/interfaces/table-data/table-row';\nimport { ColumnType } from '../../../shared/ui/objects-view/interfaces/table-data/column-definition';\nimport { ServicesApiService } from '../../../shared/fleio-api/billing/services/service-api.service';\nimport { ServiceUIService } from './service-ui.service';\nimport { IServiceModel } from '../../../shared/fleio-api/billing/model/service.model';\nimport { IAction } from '../../../shared/ui/objects-view/interfaces/actions/action';\nimport { DatePipe } from '@angular/common';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ServiceListUIService implements IObjectListUIService {\n  private datePipe: DatePipe;\n\n  constructor(private router: Router, private config: ConfigService, private servicesApiService: ServicesApiService) {\n    this.datePipe = new DatePipe(this.config.locale);\n  }\n\n  getObjectUIService(\n    object: IBaseFleioObjectModel, permissions: IPermissionsModel, state: string\n  ): IObjectUIService {\n    return new ServiceUIService(\n      object as IServiceModel, permissions, state, this.router, this.config, this.servicesApiService,\n    );\n  }\n\n  getTableData(objectList: FleioObjectsList<IServiceModel>): ITableData {\n    const tableData: ITableData = {\n      header: {\n        columns: [\n          {type: ColumnType.Value, displayName: 'Name', enableSort: true, fieldName: 'name'},\n          {type: ColumnType.Value, displayName: 'Client', enableSort: true, fieldName: 'client'},\n          {type: ColumnType.Value, displayName: 'Created at', enableSort: true, fieldName: 'created_at'},\n          {type: ColumnType.Value, displayName: 'Next due date', enableSort: true, fieldName: 'next_due_date'},\n          {type: ColumnType.Value, displayName: 'Status', enableSort: true, fieldName: 'status'},\n          {type: ColumnType.Actions, displayName: 'Actions', enableSort: true, fieldName: '(actions)'},\n        ],\n        columnNames: ['name', 'client', 'created_at', 'next_due_date', 'status', '(actions)'],\n        statusColumn: 'name',\n      },\n      rows: [],\n    };\n\n    for (const service of objectList.objects) {\n      const rowUIService = this.getObjectUIService(service, objectList.permissions, 'table-view');\n      const row: ITableRow = {\n        cells: {\n          name: {text: service.display_name},\n          client: {\n            text: service.client.name,\n            url: this.config.getPanelUrl(`clients-users/clients/${service.client.id}`)\n          },\n          created_at: {text: this.datePipe.transform(service.created_at)},\n          next_due_date: {text: this.datePipe.transform(service.next_due_date)},\n          status: {text: service.status.toLocaleUpperCase()},\n        },\n        icon: rowUIService.getIcon(),\n        status: rowUIService.getStatus(),\n        actions: rowUIService.getActions(),\n        url: rowUIService.getDetailsLink()\n      };\n\n      tableData.rows.push(row);\n    }\n\n    return tableData;\n  }\n\n  getActions(objectList: FleioObjectsList<IBaseFleioObjectModel>): IAction[] {\n    return null;\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Jlc2VsbGVyL2JpbGxpbmcvc2VydmljZXMvc2VydmljZS1saXN0L3NlcnZpY2UtbGlzdC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { ListBase } from '../../../../shared/ui/objects-view/list-base';\nimport { ActivatedRoute } from '@angular/router';\nimport { RefreshService } from '../../../../shared/ui-api/refresh.service';\nimport { IServiceModel } from '../../../../shared/fleio-api/billing/model/service.model';\nimport { ServiceListUIService } from '../service-list-ui.service';\n\n@Component({\n  selector: 'app-service-list',\n  templateUrl: './service-list.component.html',\n  styleUrls: ['./service-list.component.scss']\n})\nexport class ServiceListComponent extends ListBase<IServiceModel> implements OnInit {\n\n  constructor(\n    private route: ActivatedRoute, private serviceListUIService: ServiceListUIService,\n    private refreshService: RefreshService,\n  ) {\n    super(route, serviceListUIService, refreshService, 'services');\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n  }\n\n}\n","import { IPermissionsModel } from '../../../shared/fleio-api/base-model/IPermissionsModel';\nimport { IIcon } from '../../../shared/ui/common/interfaces/icon';\nimport { ITitle } from '../../../shared/ui/objects-view/interfaces/card-data/card-title';\nimport { IObjectStatus, StatusType, StatusValue } from '../../../shared/ui/objects-view/interfaces/object-status';\nimport { ObjectUIServiceBase } from '../../../shared/ui/objects-view/object-ui-service-base';\nimport { IAction } from '../../../shared/ui/objects-view/interfaces/actions/action';\nimport { RouterLinkAction } from '../../../shared/ui/objects-view/actions/router-link-action';\nimport { Router } from '@angular/router';\nimport { ConfigService } from '../../../shared/config/config.service';\nimport { IDataField } from '../../../shared/ui/objects-view/interfaces/card-data/data-field';\nimport { ApiCallAction } from '../../../shared/ui/objects-view/actions/api-call-action';\nimport { IDetailsTab } from '../../../shared/ui/objects-view/interfaces/details/details-tab';\nimport { IServiceModel } from '../../../shared/fleio-api/billing/model/service.model';\nimport { ServicesApiService } from '../../../shared/fleio-api/billing/services/service-api.service';\nimport { ServiceDetailsOverviewComponent } from './tabs/service-details-overview/service-details-overview.component';\nimport { ServiceEditFormComponent } from './tabs/service-edit-form/service-edit-form.component';\nimport { CallbackAction } from '../../../shared/ui/objects-view/actions/callback-action';\nimport { DatePipe } from '@angular/common';\n\nexport class ServiceUIService extends ObjectUIServiceBase<IServiceModel> {\n  private readonly router: Router;\n  private readonly config: ConfigService;\n  private readonly servicesApiService: ServicesApiService;\n\n\n  constructor(\n    service: IServiceModel, permissions: IPermissionsModel, state: string,\n    router: Router, config: ConfigService, servicesApiService: ServicesApiService\n  ) {\n    super(service, permissions, state);\n    this.router = router;\n    this.config = config;\n    this.servicesApiService = servicesApiService;\n  }\n\n  getIcon(): IIcon {\n    return null;\n  }\n\n  getStatus(): IObjectStatus {\n    switch (this.object.status) {\n      case 'active':\n        return {type: StatusType.Defined, value: StatusValue.Active};\n      case 'suspended':\n        return {type: StatusType.Defined, value: StatusValue.Suspended};\n      case 'deleting':\n        return {type: StatusType.Changing, value: StatusValue.Error};\n      default:\n        return {type: StatusType.None, value: StatusValue.None};\n    }\n  }\n\n  getTitle(): ITitle {\n    switch (this.state) {\n      case 'edit':\n        return {\n          text: `Edit ${this.object.display_name}`,\n          subText: this.object.status.toLocaleUpperCase(),\n        };\n\n      case 'create':\n        return {\n          text: 'Create service',\n        };\n\n      case 'details':\n      default:\n        return {\n          text: `${this.object.display_name}`,\n          subText: this.object.status.toLocaleUpperCase(),\n        };\n    }\n  }\n\n  getActions(): IAction[] {\n    const actions: IAction[] = [];\n\n    actions.push(new RouterLinkAction({\n        icon: {name: 'edit', class: 'fl-icons'},\n        tooltip: 'Edit service',\n        name: 'Edit',\n        routerUrl: this.config.getPanelUrl(`billing/services/${this.object.id}/edit`),\n        router: this.router,\n      }\n    ));\n\n    switch (this.object.status) {\n      case 'active':\n        actions.push(new ApiCallAction(\n          {\n            object: this.object,\n            icon: {name: 'pause'},\n            tooltip: 'Suspend service',\n            name: 'Suspend',\n            confirmOptions: {\n              confirm: true,\n              title: 'Suspend service',\n              message: `Are you sure you want to suspend service ${this.object.display_name} and all associated resources`\n            },\n            apiService: this.servicesApiService,\n            apiAction: 'suspend',\n          }\n        ));\n        break;\n      case 'suspended':\n        actions.push(new ApiCallAction(\n          {\n            object: this.object,\n            icon: {name: 'play_arrow'},\n            tooltip: 'Resume service',\n            name: 'Resume',\n            confirmOptions: {\n              confirm: false,\n              title: 'Resume service',\n              message: `Are you sure you want to resume service ${this.object.display_name}`\n            },\n            apiService: this.servicesApiService,\n            apiAction: 'resume',\n          }\n        ));\n        break;\n      // case 'terminated':\n      //   actions.push(new ApiCallAction(\n      //     {\n      //       object: this.object,\n      //       icon: {name: 'add'},\n      //       tooltip: 'Activate service',\n      //       name: 'Activate',\n      //       confirmOptions: {\n      //         confirm: true,\n      //         title: 'Activate service',\n      //         message: `Activate service ${this.object.display_name}`,\n      //       },\n      //       apiService: this.servicesApiService,\n      //       apiAction: 'activate',\n      //     }\n      //   ));\n      //   break;\n    }\n\n\n    if (this.object.status !== 'terminated') {\n      actions.push(new ApiCallAction(\n        {\n          object: this.object,\n          icon: {name: 'delete'},\n          tooltip: 'Terminate service',\n          name: 'Terminate',\n          confirmOptions: {\n            confirm: true,\n            title: 'Terminate service',\n            message: `Are you sure you want to terminate service ${this.object.display_name}`,\n          },\n          apiService: this.servicesApiService,\n          apiAction: 'terminate',\n        }\n      ));\n    }\n\n    return actions;\n  }\n\n  getDetailsLink(): string {\n    return this.config.getPanelUrl(`billing/services/${this.object.id}`);\n  }\n\n  getCardFields(): IDataField[] {\n    const datePipe = new DatePipe(this.config.locale);\n    const fields = [\n      {\n        name: 'Client',\n        value: this.object.client.name,\n      },\n      {\n        name: 'Created at',\n        value: `${datePipe.transform(this.object.created_at)}`,\n      },\n      {\n        name: 'Next due',\n        value: `${datePipe.transform(this.object.next_due_date)}`,\n      }\n    ];\n\n    return fields;\n  }\n\n  getTabs(): IDetailsTab[] {\n    switch (this.state) {\n      case 'details':\n        return [\n          {\n            tabName: 'Overview',\n            component: ServiceDetailsOverviewComponent,\n          },\n        ];\n      case 'edit':\n      case 'create':\n        return [\n          {\n            tabName: 'Edit',\n            component: ServiceEditFormComponent,\n          },\n        ];\n    }\n  }\n\n  getCardTags(): string[] {\n    return [];\n  }\n\n  getDetailsActions(): IAction[] {\n    const actions = [];\n\n    switch (this.state) {\n      case 'create':\n        actions.push(new RouterLinkAction({\n            name: 'Cancel',\n            routerUrl: this.config.getPrevUrl(`billing/services`),\n            router: this.router,\n          }\n        ));\n        actions.push(new CallbackAction({name: 'Create'}));\n        break;\n      case 'edit':\n        actions.push(new RouterLinkAction({\n            name: 'Cancel',\n            routerUrl: this.config.getPrevUrl(`billing/services`),\n            router: this.router,\n          }\n        ));\n        actions.push(new CallbackAction({name: 'Save'}));\n        break;\n      default:\n        break;\n    }\n\n    return actions;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { IRouteConfig } from '../../../shared/ui-api/interfaces/route-config/route-config';\nimport { ServiceListComponent } from './service-list/service-list.component';\nimport { ServiceDetailsComponent } from './service-details/service-details.component';\nimport { ServiceEditComponent } from './service-edit/service-edit.component';\nimport { ServiceListResolver } from '../../../shared/fleio-api/billing/services/service-list.resolver';\nimport { ServiceResolver } from '../../../shared/fleio-api/billing/services/service.resolver';\nimport { FleioObjectsList } from '../../../shared/fleio-api/fleio-objects-list';\nimport { IBaseFleioObjectModel } from '../../../shared/fleio-api/base-model/base-fleio-object.model';\nimport { OrderingDirection } from '../../../shared/ui-api/interfaces/route-config/ordering-directions';\nimport { AuthGuard } from '../../../shared/auth/auth.guard';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ServiceListComponent,\n    resolve: {\n      services: ServiceListResolver,\n    },\n    canActivate: [AuthGuard],\n    data: {\n      config: {\n        feature: 'billing.services',\n        search: {\n          show: true,\n          placeholder: 'Search services ...',\n        },\n        subheader: {\n          objectNamePlural: 'services',\n          objectName: 'service',\n          objectList(data): FleioObjectsList<IBaseFleioObjectModel> {\n            return data.services;\n          }\n        },\n        ordering: {\n          default: {\n            field: 'created_at',\n            display: 'Created at',\n            direction: OrderingDirection.Descending,\n          },\n          options: [\n            {display: 'Name', field: 'name'},\n            {display: 'Client', field: 'client'},\n            {display: 'Created at', field: 'created_at'},\n            {display: 'Next due date', field: 'next_due_date'},\n            {display: 'Status', field: 'status'},\n          ]\n        }\n      } as IRouteConfig,\n    },\n    runGuardsAndResolvers: 'always'\n  },\n  {\n    path: ':id',\n    component: ServiceDetailsComponent,\n    resolve: {\n      service: ServiceResolver,\n      // permissions: ServicePermissionsResolver,\n    },\n    data: {\n      config: {\n        getBreadCrumbDetail: (data) => {\n          return data.service.name;\n        },\n      } as IRouteConfig,\n    }\n  },\n  {\n    path: ':id/edit',\n    component: ServiceEditComponent,\n    resolve: {\n      service: ServiceResolver,\n    },\n    data: {\n      config: {\n        getBreadCrumbDetail: (data) => {\n          return data.service.name;\n        },\n      } as IRouteConfig,\n    }\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ServicesRoutingModule {\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ServiceDetailsComponent } from './service-details/service-details.component';\nimport { ServiceEditComponent } from './service-edit/service-edit.component';\nimport { ServiceListComponent } from './service-list/service-list.component';\nimport { ServicesRoutingModule } from './services-routing.module';\nimport { ServiceDetailsOverviewComponent } from './tabs/service-details-overview/service-details-overview.component';\nimport { ServiceEditFormComponent } from './tabs/service-edit-form/service-edit-form.component';\nimport { ErrorHandlingModule } from '../../../shared/error-handling/error-handling.module';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { ObjectsViewModule } from '../../../shared/ui/objects-view/objects-view.module';\nimport { FlexModule } from '@angular/flex-layout';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\n\n\n@NgModule({\n  declarations: [\n    ServiceDetailsComponent,\n    ServiceEditComponent,\n    ServiceListComponent,\n    ServiceDetailsOverviewComponent,\n    ServiceEditFormComponent,\n  ],\n  entryComponents: [\n    ServiceDetailsOverviewComponent,\n    ServiceEditFormComponent,\n  ],\n  imports: [\n    CommonModule,\n    ServicesRoutingModule,\n    ErrorHandlingModule,\n    ReactiveFormsModule,\n    ObjectsViewModule,\n    FlexModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatSelectModule,\n    MatDatepickerModule,\n    MatButtonModule,\n    MatIconModule,\n  ]\n})\nexport class ServicesModule {\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Jlc2VsbGVyL2JpbGxpbmcvc2VydmljZXMvdGFicy9zZXJ2aWNlLWRldGFpbHMtb3ZlcnZpZXcvc2VydmljZS1kZXRhaWxzLW92ZXJ2aWV3LmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { IServiceModel } from '../../../../../shared/fleio-api/billing/model/service.model';\nimport { DetailsComponentBase } from '../../../../../shared/ui/objects-view/details-component-base';\nimport { ConfigService } from '../../../../../shared/config/config.service';\n\n@Component({\n  selector: 'app-service-details-overview',\n  templateUrl: './service-details-overview.component.html',\n  styleUrls: ['./service-details-overview.component.scss']\n})\nexport class ServiceDetailsOverviewComponent extends DetailsComponentBase<IServiceModel> implements OnInit {\n\n  constructor(\n    private config: ConfigService,\n  ) {\n    super();\n  }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Jlc2VsbGVyL2JpbGxpbmcvc2VydmljZXMvdGFicy9zZXJ2aWNlLWVkaXQtZm9ybS9zZXJ2aWNlLWVkaXQtZm9ybS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { DetailsFormBase } from '../../../../../shared/ui/objects-view/details-form-base';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { IServiceModel } from '../../../../../shared/fleio-api/billing/model/service.model';\nimport { ClientsApiService } from '../../../../../shared/fleio-api/client-user/client/clients-api.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ConfigService } from '../../../../../shared/config/config.service';\nimport { ServicesApiService } from '../../../../../shared/fleio-api/billing/services/service-api.service';\nimport { Observable, of } from 'rxjs';\nimport { IActionResult } from '../../../../../shared/ui/objects-view/interfaces/actions/action-result';\nimport { IProductModel } from '../../../../../shared/fleio-api/billing/model/product.model';\nimport { IProductCycleModel } from '../../../../../shared/fleio-api/billing/model/product-cycle.model';\n\n@Component({\n  selector: 'app-service-edit-form',\n  templateUrl: './service-edit-form.component.html',\n  styleUrls: ['./service-edit-form.component.scss']\n})\nexport class ServiceEditFormComponent extends DetailsFormBase<IServiceModel> implements OnInit {\n  serviceForm = this.formBuilder.group({\n    display_name: ['', Validators.required],\n    cycle: ['', Validators.required],\n    notes: [''],\n    override_price: [''],\n    override_suspend_until: [''],\n    next_due_date: [''],\n    next_expiration_date: [''],\n    next_invoice_date: [''],\n  });\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private clientsApi: ClientsApiService,\n    private activatedRoute: ActivatedRoute,\n    private router: Router,\n    private config: ConfigService,\n    private servicesApi: ServicesApiService,\n  ) {\n    super();\n  }\n\n  ngOnInit() {\n    this.objectController.actionCallback = () => this.saveService();\n    this.serviceForm.patchValue(this.object);\n  }\n\n  private saveService(): Observable<IActionResult> {\n    const value = this.serviceForm.value as IServiceModel;\n    value.status = this.object.status;\n    value.product = (this.object.product as IProductModel).id;\n    value.cycle = (this.object.cycle as IProductCycleModel).id;\n\n    this.createOrUpdate(this.servicesApi, value).subscribe(() => {\n      this.router.navigateByUrl(\n        this.config.getPrevUrl('billing/services')\n      ).catch(() => {\n      });\n    });\n\n    return of(null);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, Resolve, RouterStateSnapshot } from '@angular/router';\nimport { FleioObjectsList } from '../../fleio-objects-list';\nimport { Observable, of } from 'rxjs';\nimport { IListQueryParams } from '../../base-model/list-query-params';\nimport { catchError } from 'rxjs/operators';\nimport { IServiceModel } from '../model/service.model';\nimport { ServicesApiService } from './service-api.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ServiceListResolver implements Resolve<FleioObjectsList<IServiceModel>> {\n  constructor(private servicesApiService: ServicesApiService) {\n  }\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot):\n    Observable<FleioObjectsList<IServiceModel>> | Promise<FleioObjectsList<IServiceModel>> |\n    FleioObjectsList<IServiceModel> {\n    return this.servicesApiService.list(\n      route.queryParams as IListQueryParams\n    ).pipe(catchError(() => of(null)));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, Resolve, RouterStateSnapshot } from '@angular/router';\nimport { Observable, of } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { IServiceModel } from '../model/service.model';\nimport { ServicesApiService } from './service-api.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ServiceResolver implements Resolve<IServiceModel> {\n  constructor(private servicesApiService: ServicesApiService) {\n  }\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot):\n    Observable<IServiceModel> | Promise<IServiceModel> | IServiceModel {\n    return this.servicesApiService.get(route.params.id).pipe(catchError(() => of(null)));\n  }\n}\n"],"sourceRoot":""}