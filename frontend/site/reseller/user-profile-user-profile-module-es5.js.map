{"version":3,"sources":["./src/app/reseller/profile/user-profile/tabs/user-profile-edit-form/user-profile-edit-form.component.html","./src/app/reseller/profile/user-profile/user-profile-edit/user-profile-edit.component.html","./src/app/reseller/profile/user-profile/tabs/user-profile-edit-form/user-profile-edit-form.component.scss","./src/app/reseller/profile/user-profile/tabs/user-profile-edit-form/user-profile-edit-form.component.ts","./src/app/reseller/profile/user-profile/user-profile-edit/user-profile-edit.component.scss","./src/app/reseller/profile/user-profile/user-profile-edit/user-profile-edit.component.ts","./src/app/reseller/profile/user-profile/user-profile-list-ui.service.ts","./src/app/reseller/profile/user-profile/user-profile-routing.module.ts","./src/app/reseller/profile/user-profile/user-profile-ui.service.ts","./src/app/reseller/profile/user-profile/user-profile.module.ts","./src/app/shared/fleio-api/profile/user-profile/user-profile-api.service.ts","./src/app/shared/fleio-api/profile/user-profile/user-profile.resolver.ts"],"names":[],"mappings":"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","file":"user-profile-user-profile-module-es5.js","sourcesContent":["module.exports = \"<div [formGroup]=\\\"profileForm\\\" fxLayout=\\\"column\\\">\\n  <app-form-errors #formErrors [formGroup]=\\\"profileForm\\\"></app-form-errors>\\n  <div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\">\\n    <mat-form-field fxFlex=\\\"48\\\">\\n      <input matInput placeholder=\\\"First name\\\" type=\\\"text\\\" formControlName=\\\"first_name\\\" required>\\n      <mat-error>{{backendErrors['first_name'] || 'This field is required!' }}</mat-error>\\n    </mat-form-field>\\n    <mat-form-field fxFlex=\\\"50\\\" fxFlexOffset=\\\"2\\\" fxFlexOffset.lt-md=\\\"0\\\">\\n      <input matInput placeholder=\\\"Last name\\\" type=\\\"text\\\" formControlName=\\\"last_name\\\" required>\\n      <mat-error>{{backendErrors['last_name'] || 'This field is required!' }}</mat-error>\\n    </mat-form-field>\\n  </div>\\n  <div fxLayout=\\\"row\\\" fxLayout.lt-md=\\\"column\\\">\\n    <mat-form-field fxFlex=\\\"48\\\">\\n      <input matInput placeholder=\\\"Email address\\\" type=\\\"email\\\" formControlName=\\\"email\\\" required>\\n      <mat-error>{{backendErrors['email'] || 'This field is required!' }}</mat-error>\\n    </mat-form-field>\\n    <app-phone-input [phoneNumber]=\\\"phoneNumber\\\" (changedPhone)=\\\"onChangedPhone($event)\\\" fxFlex=\\\"50\\\"\\n                     fxFlexOffset=\\\"2\\\" fxFlexOffset.lt-md=\\\"0\\\" #phoneNumberInputComponent>\\n    </app-phone-input>\\n    <input type=\\\"hidden\\\" formControlName=\\\"mobile_phone_number\\\">\\n  </div>\\n  <div fxLayout=\\\"row\\\">\\n    <mat-form-field fxFlex=\\\"48\\\">\\n      <input matInput placeholder=\\\"Old password\\\"\\n             [attr.type]=\\\"showOldPasswordText ? 'text' : 'password'\\\" formControlName=\\\"old_password\\\">\\n      <mat-error>{{backendErrors['old_password'] || 'This field is required!' }}</mat-error>\\n    </mat-form-field>\\n    <div>\\n      <button (mousedown)=\\\"showOldPasswordText = true;\\\"\\n              (mouseup)=\\\"showOldPasswordText = false;\\\"\\n              class=\\\"fl-margin-top-medium\\\"\\n              mat-icon-button\\n              fl-tooltip=\\\"Hold button to reveal password\\\">\\n        <mat-icon>visibility</mat-icon>\\n      </button>\\n    </div>\\n    <mat-form-field fxFlex=\\\"50\\\" fxFlexOffset=\\\"2\\\">\\n      <input matInput placeholder=\\\"Password\\\"\\n             [attr.type]=\\\"showPasswordText ? 'text' : 'password'\\\" formControlName=\\\"password\\\">\\n      <mat-error>{{backendErrors['password'] || 'This field is required!' }}</mat-error>\\n    </mat-form-field>\\n    <div>\\n      <button (mousedown)=\\\"showPasswordText = true;\\\"\\n              (mouseup)=\\\"showPasswordText = false;\\\"\\n              class=\\\"fl-margin-top-medium\\\"\\n              mat-icon-button\\n              fl-tooltip=\\\"Hold button to reveal password\\\">\\n        <mat-icon>visibility</mat-icon>\\n      </button>\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \"<app-object-details [objectController]=\\\"objectController\\\" [additionalClasses]=\\\"['fl-card-fixed-md']\\\">\\n</app-object-details>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Jlc2VsbGVyL3Byb2ZpbGUvdXNlci1wcm9maWxlL3RhYnMvdXNlci1wcm9maWxlLWVkaXQtZm9ybS91c2VyLXByb2ZpbGUtZWRpdC1mb3JtLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { DetailsFormBase } from '../../../../../shared/ui/objects-view/details-form-base';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { of } from 'rxjs';\nimport { IUserProfileModel } from '../../../../../shared/fleio-api/profile/model/user-profile.model';\nimport { UserProfileApiService } from '../../../../../shared/fleio-api/profile/user-profile/user-profile-api.service';\nimport { IUserModel } from '../../../../../shared/auth/models/user.model';\nimport { NotificationService } from '../../../../../shared/ui-api/notification.service';\n\n@Component({\n  selector: 'app-user-profile-edit-form',\n  templateUrl: './user-profile-edit-form.component.html',\n  styleUrls: ['./user-profile-edit-form.component.scss']\n})\nexport class UserProfileEditFormComponent extends DetailsFormBase<IUserProfileModel> implements OnInit {\n  @ViewChild('phoneNumberInputComponent', {static: false}) phoneNumberInputComponent;\n  profileForm = this.formBuilder.group({\n    first_name: ['', Validators.required],\n    last_name: ['', Validators.required],\n    email: ['', Validators.required],\n    mobile_phone_number: [''],\n    old_password: [''],\n    password: [''],\n  });\n  showOldPasswordText = false;\n  showPasswordText = false;\n  phoneNumber = '';\n  constructor(private formBuilder: FormBuilder, private userProfileApiService: UserProfileApiService,\n              private notificationService: NotificationService) {\n    super();\n  }\n\n  private saveProfile() {\n    if (this.profileForm.invalid) {\n      return of(null);\n    }\n    const value = this.profileForm.value as IUserModel;\n    this.userProfileApiService.putAction(\n      'update',\n      value\n    ).subscribe(response => {\n      if (this.phoneNumberInputComponent.error) {\n        this.phoneNumberInputComponent.error = null;\n      }\n      this.notificationService.showMessage('User profile updated.');\n    }, error => {\n      this.backendErrors = error.error;\n      if (this.backendErrors.mobile_phone_number) {\n        this.phoneNumberInputComponent.error = this.backendErrors.mobile_phone_number;\n      } else {\n        this.phoneNumberInputComponent.error = null;\n      }\n      this.formErrors.setBackendErrors(this.backendErrors);\n    });\n    return of(null);\n  }\n\n  private onChangedPhone(newNumber) {\n    this.profileForm.controls.mobile_phone_number.setValue(newNumber);\n  }\n\n  ngOnInit() {\n    this.objectController.actionCallback = () => this.saveProfile();\n    this.profileForm.patchValue(this.object.user);\n    if (this.object.user.mobile_phone_number) {\n      this.phoneNumber = this.object.user.mobile_phone_number;\n    }\n  }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Jlc2VsbGVyL3Byb2ZpbGUvdXNlci1wcm9maWxlL3VzZXItcHJvZmlsZS1lZGl0L3VzZXItcHJvZmlsZS1lZGl0LmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component } from '@angular/core';\nimport { DetailsBase } from '../../../../shared/ui/objects-view/details-base';\nimport { ActivatedRoute } from '@angular/router';\nimport { UserProfileListUiService } from '../user-profile-list-ui.service';\nimport { IUserProfileModel } from '../../../../shared/fleio-api/profile/model/user-profile.model';\n\n@Component({\n  selector: 'app-user-profile-edit',\n  templateUrl: './user-profile-edit.component.html',\n  styleUrls: ['./user-profile-edit.component.scss']\n})\nexport class UserProfileEditComponent extends DetailsBase<IUserProfileModel> {\n  constructor(route: ActivatedRoute, userProfileListUiService: UserProfileListUiService) {\n    super(route, userProfileListUiService, 'edit', 'userProfile');\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { IObjectListUIService } from '../../../shared/ui/objects-view/interfaces/object-list-ui-service';\nimport { Router } from '@angular/router';\nimport { ConfigService } from '../../../shared/config/config.service';\nimport { IBaseFleioObjectModel } from '../../../shared/fleio-api/base-model/base-fleio-object.model';\nimport { IPermissionsModel } from '../../../shared/fleio-api/base-model/IPermissionsModel';\nimport { IObjectUIService } from '../../../shared/ui/objects-view/interfaces/object-ui-service';\nimport { FleioObjectsList } from '../../../shared/fleio-api/fleio-objects-list';\nimport { IAction } from '../../../shared/ui/objects-view/interfaces/actions/action';\nimport { UserProfileApiService } from '../../../shared/fleio-api/profile/user-profile/user-profile-api.service';\nimport { UserProfileUiService } from './user-profile-ui.service';\nimport { ITableData } from '../../../shared/ui/objects-view/interfaces/table-data/table-data';\nimport { IUserProfileModel } from '../../../shared/fleio-api/profile/model/user-profile.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserProfileListUiService implements IObjectListUIService {\n  constructor(\n    private router: Router, private config: ConfigService,\n    private userProfileApiService: UserProfileApiService,\n  ) {\n  }\n\n  getTableData(objectList: FleioObjectsList<IBaseFleioObjectModel>): ITableData {\n    return {\n      header: {\n        columns: [],\n        columnNames: [],\n      },\n      rows: []\n    };\n  }\n\n  getObjectUIService(\n    object: IBaseFleioObjectModel, permissions: IPermissionsModel, state: string\n  ): IObjectUIService {\n    return new UserProfileUiService(\n      object as IUserProfileModel, permissions, state, this.router, this.config, this.userProfileApiService,\n    );\n  }\n\n  getActions(objectList: FleioObjectsList<IBaseFleioObjectModel>): IAction[] {\n    return [];\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { IRouteConfig } from '../../../shared/ui-api/interfaces/route-config/route-config';\nimport { UserProfileEditComponent } from './user-profile-edit/user-profile-edit.component';\nimport { UserProfileResolver } from '../../../shared/fleio-api/profile/user-profile/user-profile.resolver';\n\nconst routes: Routes = [\n  {\n    path: 'edit',\n    component: UserProfileEditComponent,\n    resolve: {\n      userProfile: UserProfileResolver,\n    },\n    data: {\n      config: {\n        getBreadCrumbDetail: () => {\n          return 'Edit user profile';\n        },\n      } as IRouteConfig,\n    }\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UserProfileRoutingModule {\n}\n","import { Router } from '@angular/router';\nimport { ConfigService } from '../../../shared/config/config.service';\nimport { IPermissionsModel } from '../../../shared/fleio-api/base-model/IPermissionsModel';\nimport { DatePipe } from '@angular/common';\nimport { UserProfileApiService } from '../../../shared/fleio-api/profile/user-profile/user-profile-api.service';\nimport { IIcon } from '../../../shared/ui/common/interfaces/icon';\nimport { IObjectStatus } from '../../../shared/ui/objects-view/interfaces/object-status';\nimport { ITitle } from '../../../shared/ui/objects-view/interfaces/card-data/card-title';\nimport { ObjectUIServiceBase } from '../../../shared/ui/objects-view/object-ui-service-base';\nimport { IAction } from '../../../shared/ui/objects-view/interfaces/actions/action';\nimport { IDataField } from '../../../shared/ui/objects-view/interfaces/card-data/data-field';\nimport { IDetailsTab } from '../../../shared/ui/objects-view/interfaces/details/details-tab';\nimport { IUserProfileModel } from '../../../shared/fleio-api/profile/model/user-profile.model';\nimport { UserProfileEditFormComponent } from './tabs/user-profile-edit-form/user-profile-edit-form.component';\nimport { RouterLinkAction } from '../../../shared/ui/objects-view/actions/router-link-action';\nimport { CallbackAction } from '../../../shared/ui/objects-view/actions/callback-action';\n\nexport class UserProfileUiService extends ObjectUIServiceBase<IUserProfileModel> {\n  private readonly router: Router;\n  private readonly config: ConfigService;\n  private readonly userProfileApiService: UserProfileApiService;\n  private readonly datePipe: DatePipe;\n\n\n  constructor(\n    userProfile: IUserProfileModel, permissions: IPermissionsModel, state: string,\n    router: Router, config: ConfigService, userProfileApiService: UserProfileApiService\n  ) {\n    super(userProfile, permissions, state);\n    this.router = router;\n    this.config = config;\n    this.userProfileApiService = userProfileApiService;\n    this.datePipe = new DatePipe(this.config.locale);\n  }\n\n  getIcon(): IIcon {\n    return null;\n  }\n\n  getStatus(): IObjectStatus {\n    return null;\n  }\n\n  getTitle(): ITitle {\n    switch (this.state) {\n      case 'edit':\n        return {\n          text: `${this.object.user.username}`,\n        };\n\n      default:\n        return {\n          text: `${this.object.user.username}`,\n          subText: ``,\n        };\n    }\n  }\n\n  getActions(): IAction[] {\n    return [];\n  }\n\n  getDetailsActions(): IAction[] {\n    const actions = [];\n\n    switch (this.state) {\n      case 'edit':\n        actions.push(new RouterLinkAction({\n            name: 'Cancel',\n            routerUrl: this.config.getPrevUrl(``), // TODO: redirect to 'user-profile/profile' once available\n            router: this.router,\n          }\n        ));\n        actions.push(new CallbackAction({name: 'Save'}));\n        break;\n      default:\n        break;\n    }\n\n    return actions;\n  }\n\n  getCardFields(): IDataField[] {\n    return [];\n  }\n\n  getTabs(): IDetailsTab[] {\n    switch (this.state) {\n      case 'edit':\n        return [\n          {\n            tabName: 'Edit',\n            component: UserProfileEditFormComponent,\n          },\n        ];\n    }\n  }\n\n  getCardTags(): string[] {\n    return [];\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UserProfileRoutingModule } from './user-profile-routing.module';\nimport { UserProfileEditComponent } from './user-profile-edit/user-profile-edit.component';\nimport { UserProfileEditFormComponent } from './tabs/user-profile-edit-form/user-profile-edit-form.component';\nimport { ObjectsViewModule } from '../../../shared/ui/objects-view/objects-view.module';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { ErrorHandlingModule } from '../../../shared/error-handling/error-handling.module';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { FlexModule } from '@angular/flex-layout';\nimport { UiModule } from '../../../shared/ui/ui.module';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatButtonModule } from '@angular/material/button';\n\n@NgModule({\n  declarations: [\n    UserProfileEditComponent,\n    UserProfileEditFormComponent\n  ],\n  entryComponents: [\n    UserProfileEditFormComponent\n  ],\n  imports: [\n    CommonModule,\n    UserProfileRoutingModule,\n    ObjectsViewModule,\n    ReactiveFormsModule,\n    ErrorHandlingModule,\n    MatFormFieldModule,\n    MatInputModule,\n    FlexModule,\n    UiModule,\n    MatIconModule,\n    MatButtonModule,\n  ]\n})\nexport class UserProfileModule { }\n","import { Injectable } from '@angular/core';\nimport { ConfigService } from '../../../config/config.service';\nimport { FleioApiService } from '../../fleio-api.service';\nimport { HttpClient } from '@angular/common/http';\nimport { IUserModel } from '../../client-user/model/user.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserProfileApiService extends FleioApiService<IUserModel> {\n  constructor(protected httpClient: HttpClient, private config: ConfigService) {\n    super(config.getPanelApiUrl('userprofile'));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, Resolve, RouterStateSnapshot } from '@angular/router';\nimport { Observable, of } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { UserProfileApiService } from './user-profile-api.service';\nimport { IUserProfileModel } from '../model/user-profile.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserProfileResolver implements Resolve<IUserProfileModel> {\n  constructor(private userProfileApiService: UserProfileApiService) {\n  }\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot):\n    Observable<IUserProfileModel> | Promise<IUserProfileModel> | IUserProfileModel {\n    return this.userProfileApiService.list().pipe(catchError(() => of(null)));\n  }\n}\n"],"sourceRoot":""}